{{- if .Config.Sections.Inputs -}}
    {{- if .Config.Settings.Required -}}
        {{- if not .Module.RequiredInputs -}}
            {{- if not .Config.Settings.HideEmpty -}}
                {{- indent 0 "#" }} Required Inputs{{ if .Config.Settings.AtxClosed }} {{ indent 0 "#" }}{{ end }}

                No required inputs.
            {{ end }}
        {{ else }}
            {{- indent 0 "#" }} Required Inputs{{ if .Config.Settings.AtxClosed }} {{ indent 0 "#" }}{{ end }}

            The following input variables are required:
            {{- range .Module.RequiredInputs }}
                {{ printf "\n" }}
                {{ indent 1 "#" }} {{ anchorNameMarkdown "input" .Name }}{{ if $.Config.Settings.AtxClosed }} {{ indent 1 "#" }}{{ end }}

                Description: {{ tostring .Description | sanitizeDoc }}

                {{ if $.Config.Settings.Type -}}
                    Type: {{ tostring .Type | type }}
                {{- end }}

                {{ if $.Config.Settings.Default }}
                    {{ if or .HasDefault (not isRequired) }}
                        Default: {{ default "n/a" .GetValue | value }}
                    {{- end }}
                {{- end }}
            {{- end }}
        {{- end }}
        {{- if not .Module.OptionalInputs -}}
            {{- if not .Config.Settings.HideEmpty -}}
                {{- indent 0 "#" }} Optional Inputs{{ if .Config.Settings.AtxClosed }} {{ indent 0 "#" }}{{ end }}

                No optional inputs.
            {{ end }}
        {{ else }}
            {{- indent 0 "#" }} Optional Inputs{{ if .Config.Settings.AtxClosed }} {{ indent 0 "#" }}{{ end }}

            The following input variables are optional (have default values):
            {{- range .Module.OptionalInputs }}
                {{ printf "\n" }}
                {{ indent 1 "#" }} {{ anchorNameMarkdown "input" .Name }}{{ if $.Config.Settings.AtxClosed }} {{ indent 1 "#" }}{{ end }}

                Description: {{ tostring .Description | sanitizeDoc }}

                {{ if $.Config.Settings.Type -}}
                    Type: {{ tostring .Type | type }}
                {{- end }}

                {{ if $.Config.Settings.Default }}
                    {{ if or .HasDefault (not isRequired) }}
                        Default: {{ default "n/a" .GetValue | value }}
                    {{- end }}
                {{- end }}
            {{- end }}
        {{ end }}
    {{ else -}}
        {{- if not .Module.Inputs -}}
            {{- if not .Config.Settings.HideEmpty -}}
                {{- indent 0 "#" }} Inputs{{ if .Config.Settings.AtxClosed }} {{ indent 0 "#" }}{{ end }}

                No inputs.
            {{ end }}
        {{ else }}
            {{- indent 0 "#" }} Inputs{{ if .Config.Settings.AtxClosed }} {{ indent 0 "#" }}{{ end }}

            The following input variables are supported:
            {{- range .Module.Inputs }}
                {{ printf "\n" }}
                {{ indent 1 "#" }} {{ anchorNameMarkdown "input" .Name }}{{ if $.Config.Settings.AtxClosed }} {{ indent 1 "#" }}{{ end }}

                Description: {{ tostring .Description | sanitizeDoc }}

                {{ if $.Config.Settings.Type -}}
                    Type: {{ tostring .Type | type }}
                {{- end }}

                {{ if $.Config.Settings.Default }}
                    {{ if or .HasDefault (not isRequired) }}
                        Default: {{ default "n/a" .GetValue | value }}
                    {{- end }}
                {{- end }}
            {{- end }}
        {{ end }}
    {{- end }}
{{ end -}}