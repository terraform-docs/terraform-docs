---
title: "How To's"
description: "terraform-docs how to's on variety of topics."
menu:
  docs:
    parent: "user-guide"
weight: 140
toc: true
---

## Visibility of Sections

Output generated by `terraform-docs` consists of different [sections] which are
visible by default. The visibility of these can be controlled by one or combination
of:

- `--show-all`
- `--hide-all`
- `--show <name>`
- and `--hide <name>`

```console
terraform-docs --show-all --hide header ...                # show all sections except 'header'
terraform-docs --hide-all --show inputs --show outputs ... # hide all sections except 'inputs' and 'outputs'
```

## Module Header

Module header can be extracted from different sources. Default file to extract
header from is `main.tf`, otherwise you can specify the file with `--header-from FILE`
or corresponding `header-from` in configuration file. Supported file formats to
read header from are:

- `.adoc`
- `.md`
- `.tf`
- `.txt`

The whole file content is being extracted as module header when extracting from
`.adoc`, `.md`, or `.txt`. But to extract header from `.tf` file you need to use
following javascript, c or java like multi-line comment:

```tf
/**
 * # Main title
 *
 * Everything in this comment block will get extracted.
 *
 * You can put simple text or complete Markdown content
 * here. Subsequently if you want to render AsciiDoc format
 * you can put AsciiDoc compatible content in this comment
 * block.
 */

resource "foo" "bar" { ... }
```

**Note:** This comment must start at the immediate first line of the `.tf` file
before any `resource`, `variable`, `module`, etc.

**Note:** we will never alter line-endings of extracted header text and will assume
whatever extracted is intended as is. It's up to you to apply any kind of Markdown
formatting to them (i.e. adding `<SPACE><SPACE>` at the end of lines for break, etc.)

## Insert Output To File

Since `v0.12.0` generated output can be insterted directly into the file. There
are two modes of insersion: `inject` (default) or `replace`. Take a look at [output]
configuration for all the details.

```console
terraform-docs markdown table --output-file README.md --output-mode inject /path/to/module
```

## Generate terraform.tfvars

You can generate `terraform.tfvars` in both `hcl` and `json` format by executing
the following, respectively:

```console
terraform-docs tfvars hcl /path/to/module

terraform-docs tfvars json /path/to/module
```

**Note:** Required input variables will be `""` (empty) in HCL and `null` in JSON
format.

## GitHub Action

To use terraform-docs GitHub Action, configure a YAML workflow file (e.g.
`.github/workflows/documentation.yml`) with the following:

```yaml
name: Generate terraform docs
on:
  - pull_request

jobs:
  docs:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
      with:
        ref: ${{ github.event.pull_request.head.ref }}

    - name: Render terraform docs and push changes back to PR
      uses: terraform-docs/gh-actions@v0.6.0
      with:
        working-dir: .
        output-file: USAGE.md
        output-method: inject
        git-push: "true"
```

Read more about [terraform-docs GitHub Action] and its configuration and
examples.

## Git Hook

A simple git hook (`.git/hooks/pre-commit`) added to your local terraform
repository can keep your Terraform module documentation up to date whenever you
make a commit. See also [git hooks] documentation.

```sh
#!/bin/sh

# Keep module docs up to date
for d in modules/*; do
  if terraform-docs md "$d" > "$d/README.md"; then
    git add "./$d/README.md"
  fi
done
```

**Note:** This is very basic and higly simplified version of [pre-commit-terraform].
Please refer to it for complete examples and guides.

[sections]: {{< ref "configuration/#sections" >}}
[output]: {{< ref "configuration/#output" >}}
[terraform-docs GitHub Action]: https://github.com/terraform-docs/gh-actions
[git hooks]: https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks
[pre-commit-terraform]: https://github.com/antonbabenko/pre-commit-terraform
